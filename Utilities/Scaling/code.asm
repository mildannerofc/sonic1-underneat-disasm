; ---------------------------------------------------------------------------
; 8bpp to 4bpp
; ---------------------------------------------------------------------------

; =============== S U B R O U T I N E =======================================

Scaling_8bppto4bpp:
		lea	(RAM_start+$1000).l,a1

.loop
		move.w	(a2)+,d0	; $44DD to $4D
		andi.w	#$0F0F,d0	; $040D
		move.w	d0,d1
		andi.w	#$000F,d0	; $000D
		andi.w	#$0F00,d1	; $0400
		lsr.w	#4,d1
		or.b	d1,d0
		move.b	d0,(a1)+
		dbf	d6,.loop
		rts

; ---------------------------------------------------------------------------
; 4bpp to 8bpp
; ---------------------------------------------------------------------------

; =============== S U B R O U T I N E =======================================

Scaling_4bppto8bpp:
		lea	(RAM_start+$1000).l,a1

.loop
		move.b	(a2)+,d0	; $14 to $1144
		move.b	d0,d1
		andi.w	#$0F,d0		; $04
		move.w	d0,d2
		lsl.w	#4,d0
		add.w	d2,d0
		andi.w	#$F0,d1		; $10
		move.w	d1,d2		; $10
		lsl.w	#4,d2		; $100
		lsl.w	#8,d1		; $1000
		add.w	d2,d1
		or.w	d1,d0
		move.w	d0,(a1)+
		dbf	d6,.loop
		rts
